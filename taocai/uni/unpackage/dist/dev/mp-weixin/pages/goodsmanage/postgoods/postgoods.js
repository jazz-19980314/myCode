(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goodsmanage/postgoods/postgoods"],{164:
/*!***************************************************************************************!*\
  !*** D:/taocai-uniapp/main.js?{"page":"pages%2Fgoodsmanage%2Fpostgoods%2Fpostgoods"} ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){i(/*! uni-pages */4);s(i(/*! vue */2));var t=s(i(/*! ./pages/goodsmanage/postgoods/postgoods.vue */165));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},165:
/*!******************************************************************!*\
  !*** D:/taocai-uniapp/pages/goodsmanage/postgoods/postgoods.vue ***!
  \******************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var s=i(/*! ./postgoods.vue?vue&type=template&id=5a83a8e0& */166),a=i(/*! ./postgoods.vue?vue&type=script&lang=js& */168);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i(/*! ./postgoods.vue?vue&type=style&index=0&lang=scss& */170);var o,l=i(/*! ../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),c=Object(l["default"])(a["default"],s["render"],s["staticRenderFns"],!1,null,null,null,!1,s["components"],o);c.options.__file="pages/goodsmanage/postgoods/postgoods.vue",t["default"]=c.exports},166:
/*!*************************************************************************************************!*\
  !*** D:/taocai-uniapp/pages/goodsmanage/postgoods/postgoods.vue?vue&type=template&id=5a83a8e0& ***!
  \*************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";i.r(t);var s=i(/*! -!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./postgoods.vue?vue&type=template&id=5a83a8e0& */167);i.d(t,"render",(function(){return s["render"]})),i.d(t,"staticRenderFns",(function(){return s["staticRenderFns"]})),i.d(t,"recyclableRender",(function(){return s["recyclableRender"]})),i.d(t,"components",(function(){return s["components"]}))},167:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/taocai-uniapp/pages/goodsmanage/postgoods/postgoods.vue?vue&type=template&id=5a83a8e0& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";var s;i.r(t),i.d(t,"render",(function(){return a})),i.d(t,"staticRenderFns",(function(){return o})),i.d(t,"recyclableRender",(function(){return n})),i.d(t,"components",(function(){return s}));var a=function(){var e=this,t=e.$createElement;e._self._c},n=!1,o=[];a._withStripped=!0},168:
/*!*******************************************************************************************!*\
  !*** D:/taocai-uniapp/pages/goodsmanage/postgoods/postgoods.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var s=i(/*! -!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./postgoods.vue?vue&type=script&lang=js& */169),a=i.n(s);for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);t["default"]=a.a},169:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/taocai-uniapp/pages/goodsmanage/postgoods/postgoods.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){i.e(/*! require.ensure | components/bjx-inputs/bjx-inputs */"components/bjx-inputs/bjx-inputs").then(function(){return resolve(i(/*! @/components/bjx-inputs/bjx-inputs.vue */279))}.bind(null,i)).catch(i.oe)},a={components:{BjxInputs:s},data:function(){return{iscenter:!0,title:"",goodsname:"",maidian:"",goodsdetail:[],imgList:[],guigeShow:!0,value:[],label:[],radio:"",goodsprice:"",kucun:"",guigeList:[],guigeListTwo:[],moresizelist:[],value5:[],value1:[],label1:[],list1:[],value2:[],label2:[],list2:[],value3:[],label3:[],list3:[],value4:[],label4:[],list4:[],onesizelist:[],postList:{name:"GG",picUrls:["https://qtvedio.oss-cn-qingdao.aliyuncs.com/1/material/ee26a714-3c40-49cc-8002-b2c693f156bb.png"],categoryId:["76","83"],sellPoint:"",price:"",spuCode:"",specType:"1",saleNum:2134,createTime:"",updateTime:"",shelf:"1",pointsGiveSwitch:"0",pointsDeductSwitch:"0",categoryThird:"133",freightTemplatId:"1258567558753992705",deliveryPlaceId:"1258567644334571522",ensureIds:[],skus:[{specs:[{specId:"1258921168310427650",specName:"omm",specValueId:"1258921231245959170",specValueName:"oss"}],specIds:"1258921168310427650-1258921231245959170",picUrl:"",picUrls:[],salesPrice:0,stock:0,enable:"1"}],description:"",spuSpec:[{id:"1258921168310427650",value:"omm",leaf:[{id:"1258921231245959170",value:"oss"}]}],categoryFirst:"76",categorySecond:"83"},goodsId:"",changeimges:[],biaozhun:!0,specValueList:[],goodsSpec:null,goodsSpuSpec:null,goodsSku:null,goodsSkuData:[],goodsSpuSpecData:[]}},onLoad:function(e){var t=this;this.$http.userInfo().then((function(e){t.biaozhun="-1"!=e.data.data.permissions.indexOf("mall:goodscategorymore:index")}),(function(e){console.log(e)})),this.getgoodscategory(),this.getcategorymore(),this.getgoodsspec(),this.getdeliveryplace(),this.getfreighttemplat()},methods:{timeoutGoods:function(){var t=this;if(0==this.radio){this.onesizelist.push({specs:[],specIds:"",picUrl:"",picUrls:[],salesPrice:this.goodsprice,stock:this.kucun,enable:"1"});var i=[];i.push(this.postList),i.forEach((function(e){e.name=t.goodsname,e.picUrls=t.changeimges,e.categoryId=[t.label1[0].value,t.label1[1].value],e.sellPoint=t.maidian,e.price="",e.spuCode="",e.specType=t.radio,e.saleNum="",e.createTime="",e.updateTime="",e.shelf="0",e.pointsGiveSwitch="0",e.pointsDeductSwitch="0",e.categoryThird=0==t.label2.length?"":t.label2[1].value,e.freightTemplatId=t.label3[0].value,e.deliveryPlaceId=t.label4[0].value,e.ensureIds=[],e.skus=t.onesizelist,e.description="",e.spuSpec=null,e.categoryFirst=t.label1[0].value,e.categorySecond=t.label1[1].value}))}if(1==this.radio){i=[];i.push(this.postList),i.forEach((function(e){e.name=t.goodsname,e.picUrls=t.changeimges,e.categoryId=[t.label1[0].value,t.label1[1].value],e.sellPoint=t.maidian,e.price="",e.spuCode="",e.specType=t.radio,e.saleNum="",e.createTime="",e.updateTime="",e.shelf="0",e.pointsGiveSwitch="0",e.pointsDeductSwitch="0",e.categoryThird=0==t.label2.length?"":t.label2[1].value,e.freightTemplatId=t.label3[0].value,e.deliveryPlaceId=t.label4[0].value,e.ensureIds=[],e.skus=t.moresizelist,e.description="",e.spuSpec.forEach((function(e,i){e.id=t.moresizelist[i].specs[0].specId,e.value="",e.leaf.forEach((function(e,i){e.id=t.moresizelist[i].specs[0].specValueId,e.value=""}))})),e.categoryFirst=t.label1[0].value,e.categorySecond=t.label1[1].value}))}this.$http.postgoods(JSON.stringify(i[0])).then((function(t){t.data.ok?(e.showToast({icon:"none",title:"该商品暂未上架！"}),e.navigateTo({url:"../management/management"})):e.showToast({icon:"none",title:"发布商品失败，请检查网络"})}))},timeoutsuc:function(){var t=this;if(""==this.goodsname||""==this.imgList||this.label==[]||this.label1==[]||this.label3==[]||this.label4==[]||this.moresizelist==[])e.showToast({title:"请完善页面信息",duration:2e3,icon:"none"});else for(var i=0;i<this.imgList.length;i++)e.uploadFile({url:"https://mall.program66.com/admin/file/uploads",filePath:this.imgList[i],header:{Authorization:"Bearer "+e.getStorageSync("token")},name:"file",success:function(e){var i=JSON.parse(e.data);t.changeimges=t.changeimges.concat(i.link)},complete:function(){var e=Number(i);e==t.imgList.length&&t.changeimges.length==e&&t.timeoutGoods()}})},getgoodscategory:function(){var e=this;this.$http.getgoodscategory({current:1,size:20}).then((function(t){var i=t.data.data;e.list1=i.map((function(e){return{label:e.name,value:e.id,children:e.children}}));for(var s=0;s<e.list1.length;s++)e.list1[s].children=e.list1[s].children.map((function(e){return{label:e.name,value:e.id}}))}))},getcategorymore:function(){var e=this;this.$http.getgoodscategorymore().then((function(t){var i=t.data.data;if(i){e.list2=i.map((function(e){return{label:e.name,value:e.id,children:e.children}}));for(var s=0;s<e.list2.length;s++)e.list2[s].children=e.list2[s].children.map((function(e){return{label:e.name,value:e.id}}))}}))},getgoodsspec:function(){var e=this;this.$http.getgoodsspec({current:1,size:20}).then((function(t){var i=t.data.data;e.guigeList=i.map((function(e){return{label:e.name,value:e.id}})),e.goodsSpec=i,console.log(e.goodsSpec)}))},getdeliveryplace:function(){var e=this;this.$http.getdeliveryplace({current:1,size:20}).then((function(t){var i=t.data.data.records;e.list4=i.map((function(e){return{label:e.place,value:e.id}}))}))},getfreighttemplat:function(){var e=this;this.$http.getfreighttemplat({current:1,size:20}).then((function(t){var i=t.data.data.records;e.list3=i.map((function(e){return{label:e.name,value:e.id}}))}))},ChooseImage:function(){var t=this;e.chooseImage({count:5,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.iscenter=!1,0!=t.imgList.length?t.imgList=t.imgList.concat(e.tempFilePaths):t.imgList=e.tempFilePaths}})},ViewImage:function(t){e.previewImage({urls:this.imgList,current:t.currentTarget.dataset.url})},DelImg:function(t){var i=this;e.showModal({title:"提示",content:"您确定要删除这张图片吗？",cancelText:"再看看",confirmText:"删除",success:function(e){e.confirm&&i.imgList.splice(t.currentTarget.dataset.index,1)}})},handleTap:function(e){this.$refs[e].show()},handleChange:function(e){},handleConfirm:function(e){var t=this;this.moresizelist.push({specs:[{specId:e.item[0].value,specName:e.item[0].label,specValueId:"",specValueName:""}],specIds:e.item[0].value,picUrl:"",picUrls:[],salesPrice:"",stock:"",enable:"1"}),this.$http.getgoodsspecTwo({id:e.item[0].value}).then((function(e){t.guigeListTwo=e.data.data.map((function(e){return{label:e.name,value:e.id}}))}))},handleConfirm5:function(e){console.log(e),this.specValueList.push(e.item[0]);var t=[];t.push(this.moresizelist[this.moresizelist.length-1]),t.forEach((function(t){t.specs.forEach((function(t){t.specValueId=e.item[0].value,t.specValueName=e.item[0].label}))})),t.forEach((function(e){e.specIds=e.specs[0].specId+"-"+e.specs[0].specValueId})),console.log(this.moresizelist)},deleteGoods:function(t){var i=this;e.showModal({title:"提示",content:"你确定要删除这个商品吗",success:function(e){e.confirm?i.moresizelist.splice(t,1):e.cancel}})},handleConfirm1:function(e){this.label1=e.item},handleConfirm2:function(e){this.label2=e.item},handleConfirm3:function(e){this.label3=e.item},handleConfirm4:function(e){this.label4=e.item},handleCancel:function(e){},RadioChange:function(e){this.radio=e.detail.value,0==this.radio&&(this.moresizelist=[])},checkshow:function(){this.guigeShow=!this.guigeShow,this.ishow=!1},handelAdd:function(){this.ishow=!0},postgoods:function(){var t=this;if(0==this.radio){this.onesizelist.push({specs:[],specIds:"",picUrl:"",picUrls:[],salesPrice:this.goodsprice,stock:this.kucun,enable:"1"});var i=[];i.push(this.postList),i.forEach((function(e){e.name=t.goodsname,e.picUrls=t.changeimges,e.categoryId=[t.label1[0].value,t.label1[1].value],e.sellPoint=t.maidian,e.price="",e.spuCode="",e.specType=t.radio,e.saleNum="",e.createTime="",e.updateTime="",e.shelf="1",e.pointsGiveSwitch="0",e.pointsDeductSwitch="0",e.categoryThird=0==t.label2.length?"":t.label2[1].value,e.freightTemplatId=t.label3[0].value,e.deliveryPlaceId=t.label4[0].value,e.ensureIds=[],e.skus=t.onesizelist,e.description="",e.spuSpec=null,e.categoryFirst=t.label1[0].value,e.categorySecond=t.label1[1].value}))}if(1==this.radio){i=[];i.push(this.postList),i.forEach((function(e){e.name=t.goodsname,e.picUrls=t.changeimges,e.categoryId=[t.label1[0].value,t.label1[1].value],e.sellPoint=t.maidian,e.price="",e.spuCode="",e.specType=t.radio,e.saleNum="",e.createTime="",e.updateTime="",e.shelf="1",e.pointsGiveSwitch="0",e.pointsDeductSwitch="0",e.categoryThird=0==t.label2.length?"":t.label2[1].value,e.freightTemplatId=t.label3[0].value,e.deliveryPlaceId=t.label4[0].value,e.ensureIds=[],e.skus=t.moresizelist,e.description="",e.spuSpec.forEach((function(e,i){e.id=t.moresizelist[i].specs[0].specId,e.value="",e.leaf.forEach((function(e,i){e.id=t.moresizelist[i].specs[0].specValueId,e.value=""}))})),e.categoryFirst=t.label1[0].value,e.categorySecond=t.label1[1].value}))}this.$http.postgoods(JSON.stringify(i[0])).then((function(t){t.data.ok?(e.showToast({icon:"none",title:"发布成功"}),e.navigateTo({url:"../postsuccess/postsuccess"})):e.showToast({icon:"none",title:"发布商品失败，请检查网络"})}))},enterpostsuccess:function(){var t=this;if(0==this.imgList.length||""==this.goodsname||0==this.label1.length||0==this.label3.length||0==this.label4.length)e.showToast({title:"请完善页面信息",duration:2e3,icon:"none"});else for(var i=0;i<this.imgList.length;i++)e.uploadFile({url:"https://mall.program66.com/admin/file/uploads",filePath:this.imgList[i],header:{Authorization:"Bearer "+e.getStorageSync("token")},name:"file",success:function(e){var i=JSON.parse(e.data);t.changeimges=t.changeimges.concat(i.link)},complete:function(){var e=Number(i);e==t.imgList.length&&t.changeimges.length==e&&t.postgoods()}})},clearall:function(){var t=this;e.showModal({title:"提示",content:"你确定清空所有数据吗",success:function(e){e.confirm?(t.goodsdetail="",t.goodsname="",t.goodsprice="",t.kucun="",t.maidian="",t.imgList="",t.label=[],t.label1=[],t.label2=[],t.label3=[],t.label4=[],t.moresizelist=[]):e.cancel}})}}};t.default=a}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},170:
/*!****************************************************************************************************!*\
  !*** D:/taocai-uniapp/pages/goodsmanage/postgoods/postgoods.vue?vue&type=style&index=0&lang=scss& ***!
  \****************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var s=i(/*! -!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../学习资料/学习软件/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./postgoods.vue?vue&type=style&index=0&lang=scss& */171),a=i.n(s);for(var n in s)"default"!==n&&function(e){i.d(t,e,(function(){return s[e]}))}(n);t["default"]=a.a},171:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/taocai-uniapp/pages/goodsmanage/postgoods/postgoods.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){}},[[164,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/goodsmanage/postgoods/postgoods.js.map